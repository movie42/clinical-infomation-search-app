# 검색어 자동 완성

## 설치

### 서버

- [서버](https://github.com/walking-sunset/assignment-api_7th)를 받아 설치하십시오.
- 서버 실행은 해당 문서를 참조하세요.

### 클라이언트

깃에서 클론을 받은 뒤 아래 명령어를 순서대로 입력하세요.

#### 패키지 설치

```shell
npm install
```

#### 어플리케이션 실행

```shell
npm start
```

## 사용 방법

1. 검색어 창에 검색어를 입력할 수 있습니다.
2. 키보드 방향키로 검색 된 항목을 탐색할 수 있습니다.
3. 탐색 후, 원하는 검색 결과를 찾았다면 Enter키를 누르면 됩니다.(url에 querystring이 입력됩니다.)
4. 탐색 중에 검색 창으로 돌아가려면 ESC 버튼을 누르거나 마우스로 검색창을 누르세요.

## 캐싱 전략

1. [Cache 클래스](../pre-onboarding-7th-3-1-4/src/lib/api/cache.ts)를 초기화 하면 cache 오브젝트가 생성됩니다.
2. [API 클래스](../pre-onboarding-7th-3-1-4/src/lib/api/api.ts)를 초기화 할 때, 인스턴스를 받아오고 Cache 인스턴스가 생성됩니다.
3. API.fetch() 메서드를 사용하면 cache에 query string이 key값과 value로 저장됩니다.
4. 사용자가 검색창에 입력하는 모든 글자를 key값과 value로 전부 저장합니다.
   - 예제
     - 사용자가 암을 검색했다면 {"ㅇ":response객체}, {"아":response객체}, {"암":response객체}를 모두 저장합니다.
5. cache는 자바스크립트 객체이기 때문에 메모리에 저장됩니다. SPA에서 페이지 이동시에 새로고침이 되지 않기 때문에 따로 로컬 스토리지를 사용할 필요가 없다고 생각했습니다. 새로고침을 하면 캐싱된 값이 초기화 됩니다.
6. 사용자가 한번 입력했던 검색어라면 메모리에 검색어와 값이 저장되어있기 때문에 서버에 요청을 보내지 않습니다.

### 디바운싱을 사용하지 않은 이유

- query string을 기준으로 value를 캐싱하는 것이기 때문에 검색어를 입력하면서 생성된 모든 값을 key, value로 저장할 필요가 있다고 생각했습니다.

### 로컬 스토리지를 사용하지 않은 이유

- SPA에서 페이지 이동시에 특별한 경우가 아니라면 새로고침이 발생하지 않습니다.
- 만약 새로고침을 해서 클라이언트의 캐시된 정보가 날아가더라도 HTTP 캐시가 되어있다면 검색어를 다시 입력해서 서버에 요청을 하는 것이 서버에 그렇게 큰 부담을 주는 것이 아니라고 생각했습니다.
- 사용자가 새로고침을 했을 때, 검색어 정보가 바뀌었을 경우 로컬 스토리지에 캐싱을 했을 경우 즉시 대응 할 수 있는 마땅할 방법을 찾지 못했습니다.
